# æ•…éšœæ’é™¤æŒ‡å—

## ğŸ”§ è§£å†³ "Cannot read properties of undefined (reading 'ssr')" é”™è¯¯

è¿™ä¸ªé”™è¯¯å·²ç»ä¿®å¤ï¼æˆ‘ä»¬é™çº§åˆ°äº†ç¨³å®šçš„ç‰ˆæœ¬ç»„åˆï¼š

- **Wagmi v1.4.13** (è€Œä¸æ˜¯ v2+)
- **ConnectKit v1.6.0**
- **@tanstack/react-query v4.36.1**
- **Viem v1.21.4**

## ğŸš€ é‡æ–°å®‰è£…æ­¥éª¤

å¦‚æœä½ ä¹‹å‰é‡åˆ°äº†é”™è¯¯ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤é‡æ–°å®‰è£…ï¼š

```bash
# 1. è¿›å…¥å®¢æˆ·ç«¯ç›®å½•
cd client

# 2. åˆ é™¤ node_modules å’Œ package-lock.json
rm -rf node_modules package-lock.json

# 3. é‡æ–°å®‰è£…ä¾èµ–
npm install

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

## ğŸ› å¸¸è§é—®é¢˜

### 1. ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜

**é—®é¢˜**: SSR ç›¸å…³é”™è¯¯
**è§£å†³**: ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ç‰ˆæœ¬ç»„åˆï¼ˆå·²åœ¨ package.json ä¸­å›ºå®šï¼‰

### 2. MetaMask è¿æ¥é—®é¢˜

**é—®é¢˜**: é’±åŒ…è¿æ¥å¤±è´¥
**è§£å†³**: 
- ç¡®ä¿ MetaMask å·²å®‰è£…
- æ·»åŠ æœ¬åœ°ç½‘ç»œé…ç½®ï¼š
  - ç½‘ç»œåç§°: `Ganache Local`
  - RPC URL: `http://127.0.0.1:8545`
  - é“¾ID: `1337`
  - è´§å¸ç¬¦å·: `ETH`

### 3. åˆçº¦äº¤äº’å¤±è´¥

**é—®é¢˜**: åˆçº¦åœ°å€æœªè®¾ç½®
**è§£å†³**: 
1. å…ˆéƒ¨ç½²åˆçº¦: `npm run migrate`
2. å¤åˆ¶åˆçº¦åœ°å€
3. æ›´æ–° `client/src/config/contract.js` ä¸­çš„ `CONTRACT_ADDRESS`

### 4. äº¤æ˜“å¤±è´¥

**é—®é¢˜**: Gas è´¹ç”¨æˆ–ä½™é¢ä¸è¶³
**è§£å†³**:
- ç¡®ä¿è´¦æˆ·æœ‰è¶³å¤Ÿçš„ ETH
- æ£€æŸ¥ Ganache æ˜¯å¦æ­£åœ¨è¿è¡Œ
- é‡å¯ Ganache å’Œå‰ç«¯

### 5. Vite æ„å»ºé—®é¢˜

**é—®é¢˜**: æ¨¡å—è§£æé”™è¯¯
**è§£å†³**: 
```bash
# æ¸…é™¤ Vite ç¼“å­˜
rm -rf node_modules/.vite
npm run dev
```

## ğŸ“ å®Œæ•´çš„é‡æ–°éƒ¨ç½²æµç¨‹

å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥å®Œå…¨é‡æ–°å¼€å§‹ï¼š

```bash
# 1. åœæ­¢æ‰€æœ‰æœåŠ¡ (Ctrl+C)

# 2. é‡å¯ Ganache
npm run ganache

# 3. é‡æ–°éƒ¨ç½²åˆçº¦
npm run compile
npm run migrate --reset

# 4. æ›´æ–°åˆçº¦åœ°å€
# ç¼–è¾‘ client/src/config/contract.js

# 5. é‡æ–°å®‰è£…å‰ç«¯ä¾èµ–
cd client
rm -rf node_modules package-lock.json
npm install

# 6. å¯åŠ¨å‰ç«¯
npm run dev
```

## âœ… éªŒè¯å®‰è£…

å‰ç«¯å¯åŠ¨æˆåŠŸåï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š

1. âœ… é¡µé¢æ­£å¸¸åŠ è½½ï¼ˆæ— æ§åˆ¶å°é”™è¯¯ï¼‰
2. âœ… ConnectKit é’±åŒ…è¿æ¥æŒ‰é’®æ˜¾ç¤º
3. âœ… èƒ½å¤Ÿè¿æ¥ MetaMask
4. âœ… æ˜¾ç¤ºè´¦æˆ·åœ°å€å’Œä½™é¢
5. âœ… åˆ›å»ºçº¢åŒ…å’ŒæŠ¢çº¢åŒ…åŠŸèƒ½å¯ç”¨

å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯ï¼